<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Conversion between neighbor lists and sfnetworks — nb • sfnetworks</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Conversion between neighbor lists and sfnetworks — nb"><meta name="description" content="Neighbor lists are sparse adjacency matrices in list format that specify for
each node to which other nodes it is adjacent. They occur for example in the
sf package as sgbp objects, and are also
frequently used in the spdep package."><meta property="og:description" content="Neighbor lists are sparse adjacency matrices in list format that specify for
each node to which other nodes it is adjacent. They occur for example in the
sf package as sgbp objects, and are also
frequently used in the spdep package."><meta property="og:image" content="https://luukvdmeer.github.io/sfnetworks/logo.png"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sfnetworks</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.9.9.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/sfn01_intro.html">Introduction to sfnetworks</a></li>
    <li><a class="dropdown-item" href="../articles/sfn02_create_represent.html">Creating and representing spatial networks</a></li>
    <li><a class="dropdown-item" href="../articles/sfn03_cleaning.html">Cleaning spatial networks</a></li>
    <li><a class="dropdown-item" href="../articles/sfn04_join_filter.html">Spatial joins and filters</a></li>
    <li><a class="dropdown-item" href="../articles/sfn05_routing.html">Routing on spatial networks</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/luukvdmeer/sfnetworks/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Conversion between neighbor lists and sfnetworks</h1>
      <small class="dont-index">Source: <a href="https://github.com/luukvdmeer/sfnetworks/blob/main/R/nb.R" class="external-link"><code>R/nb.R</code></a></small>
      <div class="d-none name"><code>nb.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Neighbor lists are sparse adjacency matrices in list format that specify for
each node to which other nodes it is adjacent. They occur for example in the
<span class="pkg">sf</span> package as <code><a href="https://r-spatial.github.io/sf/reference/sgbp.html" class="external-link">sgbp</a></code> objects, and are also
frequently used in the <span class="pkg">spdep</span> package.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">nb_to_sfnetwork</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">nodes</span>,</span>
<span>  directed <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  edges_as_lines <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  compute_length <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  force <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">sfnetwork_to_nb</span><span class="op">(</span><span class="va">x</span>, direction <span class="op">=</span> <span class="st">"out"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>For the conversion to sfnetwork: a neighbor list, which is a list
adjacent to. For the conversion from sfnetwork: an object of class
<code><a href="sfnetwork.html">sfnetwork</a></code>.</p></dd>


<dt id="arg-nodes">nodes<a class="anchor" aria-label="anchor" href="#arg-nodes"></a></dt>
<dd><p>The nodes themselves as an object of class <code><a href="https://r-spatial.github.io/sf/reference/sf.html" class="external-link">sf</a></code>
or <code><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">sfc</a></code> with <code>POINT</code> geometries.</p></dd>


<dt id="arg-directed">directed<a class="anchor" aria-label="anchor" href="#arg-directed"></a></dt>
<dd><p>Should the constructed network be directed? Defaults to
<code>TRUE</code>.</p></dd>


<dt id="arg-edges-as-lines">edges_as_lines<a class="anchor" aria-label="anchor" href="#arg-edges-as-lines"></a></dt>
<dd><p>Should the created edges be spatially explicit, i.e.
have <code>LINESTRING</code> geometries stored in a geometry list column? Defaults
to <code>TRUE</code>.</p></dd>


<dt id="arg-compute-length">compute_length<a class="anchor" aria-label="anchor" href="#arg-compute-length"></a></dt>
<dd><p>Should the geographic length of the edges be stored in
a column named <code>length</code>? Defaults to <code>FALSE</code>.</p></dd>


<dt id="arg-force">force<a class="anchor" aria-label="anchor" href="#arg-force"></a></dt>
<dd><p>Should validity checks be skipped? Defaults to <code>FALSE</code>,
meaning that network validity checks are executed when constructing the
network. These checks make sure that the provided neighbor list has a valid
structure, i.e. that its length is equal to the number of provided nodes and
that its values are all integers referring to one of the nodes.</p></dd>


<dt id="arg-direction">direction<a class="anchor" aria-label="anchor" href="#arg-direction"></a></dt>
<dd><p>The direction that defines if two nodes are neighbors.
Defaults to <code>'out'</code>, meaning that the direction given by the network is
followed and node j is only a neighbor of node i if there exists an edge
i-&gt;j. May be set to <code>'in'</code>, meaning that the opposite direction is
followed and node j is only a neighbor of node i if there exists an edge
j-&gt;i. May also be set to <code>'all'</code>, meaning that the network is
considered to be undirected. This argument is ignored for undirected
networks.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>For the conversion to sfnetwork: An object of class
<code><a href="sfnetwork.html">sfnetwork</a></code>. For the conversion from sfnetwork: a neighbor list,
which is a list with one element per node that holds the integer indices of
the nodes it is adjacent to.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Lucas van der Meer, Lorena Abad, Andrea Gilardi, Robin Lovelace.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

