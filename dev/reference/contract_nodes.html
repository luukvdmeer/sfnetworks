<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Contract groups of nodes in a spatial network — contract_nodes • sfnetworks</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Contract groups of nodes in a spatial network — contract_nodes"><meta name="description" content="Combine groups of nodes into a single node per group. The centroid such a
group will be used by default as new geometry of the contracted node. If
edges are spatially explicit, edge geometries are updated accordingly such
that the valid spatial network structure is preserved."><meta property="og:description" content="Combine groups of nodes into a single node per group. The centroid such a
group will be used by default as new geometry of the contracted node. If
edges are spatially explicit, edge geometries are updated accordingly such
that the valid spatial network structure is preserved."><meta property="og:image" content="https://luukvdmeer.github.io/sfnetworks/logo.png"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sfnetworks</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.9.9.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/sfn01_intro.html">Introduction to sfnetworks</a></li>
    <li><a class="dropdown-item" href="../articles/sfn02_create_represent.html">Creating and representing spatial networks</a></li>
    <li><a class="dropdown-item" href="../articles/sfn03_cleaning.html">Cleaning spatial networks</a></li>
    <li><a class="dropdown-item" href="../articles/sfn04_join_filter.html">Spatial joins and filters</a></li>
    <li><a class="dropdown-item" href="../articles/sfn05_routing.html">Routing on spatial networks</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/luukvdmeer/sfnetworks/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Contract groups of nodes in a spatial network</h1>
      <small class="dont-index">Source: <a href="https://github.com/luukvdmeer/sfnetworks/blob/main/R/contract.R" class="external-link"><code>R/contract.R</code></a></small>
      <div class="d-none name"><code>contract_nodes.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Combine groups of nodes into a single node per group. The centroid such a
group will be used by default as new geometry of the contracted node. If
edges are spatially explicit, edge geometries are updated accordingly such
that the valid spatial network structure is preserved.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">contract_nodes</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">groups</span>,</span>
<span>  simplify <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  compute_centroids <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  reconnect_edges <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  attribute_summary <span class="op">=</span> <span class="st">"ignore"</span>,</span>
<span>  store_original_ids <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  store_original_data <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An object of class <code><a href="sfnetwork.html">sfnetwork</a></code>.</p></dd>


<dt id="arg-groups">groups<a class="anchor" aria-label="anchor" href="#arg-groups"></a></dt>
<dd><p>A group index for each node in x.</p></dd>


<dt id="arg-simplify">simplify<a class="anchor" aria-label="anchor" href="#arg-simplify"></a></dt>
<dd><p>Should the network be simplified after contraction? Defaults
to <code>TRUE</code>. This means that multiple edges and loop edges will be
removed. Multiple edges are introduced by contraction when there are several
connections between the same groups of nodes. Loop edges are introduced by
contraction when there are connections within a group. Note however that
setting this to <code>TRUE</code> also removes multiple edges and loop edges that
already existed before contraction.</p></dd>


<dt id="arg-compute-centroids">compute_centroids<a class="anchor" aria-label="anchor" href="#arg-compute-centroids"></a></dt>
<dd><p>Should the new geometry of each contracted group of
nodes be the centroid of all group members? Defaults to <code>TRUE</code>. If set
to <code>FALSE</code>, the geometry of the first node in each group will be used
instead, which requires considerably less computing time.</p></dd>


<dt id="arg-reconnect-edges">reconnect_edges<a class="anchor" aria-label="anchor" href="#arg-reconnect-edges"></a></dt>
<dd><p>Should the geometries of the edges be updated such
they match the new node geometries? Defaults to <code>TRUE</code>. Only set this
to <code>FALSE</code> if you know the node geometries did not change, otherwise
the valid spatial network structure is broken.</p></dd>


<dt id="arg-attribute-summary">attribute_summary<a class="anchor" aria-label="anchor" href="#arg-attribute-summary"></a></dt>
<dd><p>How should the attributes of contracted nodes be
summarized? There are several options, see
<code><a href="https://r.igraph.org/reference/igraph-attribute-combination.html" class="external-link">igraph-attribute-combination</a></code> for details.</p></dd>


<dt id="arg-store-original-ids">store_original_ids<a class="anchor" aria-label="anchor" href="#arg-store-original-ids"></a></dt>
<dd><p>For each group of contracted nodes, should
the indices of the original nodes be stored as an attribute of the new edge,
in a column named <code>.tidygraph_node_index</code>? This is in line with the
design principles of <code>tidygraph</code>. Defaults to <code>FALSE</code>.</p></dd>


<dt id="arg-store-original-data">store_original_data<a class="anchor" aria-label="anchor" href="#arg-store-original-data"></a></dt>
<dd><p>For each group of contracted nodes, should
the data of the original nodes be stored as an attribute of the new edge, in
a column named <code>.orig_data</code>? This is in line with the design principles
of <code>tidygraph</code>. Defaults to <code>FALSE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The contracted network as object of class <code><a href="sfnetwork.html">sfnetwork</a></code>.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Lucas van der Meer, Lorena Abad, Andrea Gilardi, Robin Lovelace.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

